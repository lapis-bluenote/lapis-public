<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LapisのAI適当おみくじ 2026</title>

    <!-- OGP -->
    <meta property="og:title" content="LapisのAI適当おみくじ 2026">
    <meta property="og:description" content="AIが今年の運勢をそれっぽく占います。信じるかどうかはあなた次第。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lapis-omikuji.pages.dev/">
    <meta property="og:image" content="https://lapis-omikuji.pages.dev/ogp.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="overscroll-none">

    <!-- Background Layer -->
    <div class="bg-layer"></div>

    <!-- Petal Animation Container -->
    <div id="petals-container" class="petals-overlay"></div>

    <!-- Main App Container -->
    <div class="relative z-10 w-full min-h-screen flex flex-col font-sans">

        <!-- App Header -->
        <header class="pt-8 md:pt-12 mb-2 md:mb-0 md:top-6 md:inset-x-0 text-center z-50 flex flex-col items-center gap-2 pointer-events-none">
            <p class="title-sub">Lapis作・AI任せの</p>
            <h1 class="title-main">～適当おみくじ～</h1>
        </header>

        <!-- App Layout: Split Screen -->
        <div id="app-layout" class="w-full max-w-7xl mx-auto flex-1 flex flex-col md:flex-row md:items-center md:pt-8">

            <!-- Character Pane (Left) -->
            <div id="character-pane" class="relative md:flex-1 flex items-center justify-center md:justify-end pointer-events-none order-1 py-4 md:py-0">
                <div class="character-wrapper relative w-full h-full md:max-w-[500px] flex items-center justify-center px-6">

                    <!-- Character Images (Unified) -->
                    <img id="lapis-waiting"
                        src="assets/lapis_waiting.png"
                        alt="Lapis Waiting"
                        class="character-img relative max-w-full max-h-[40vh] md:max-h-[80vh] object-contain transition-all duration-1000 z-10">

                    <img id="lapis-result"
                        src="assets/lapis_result.png"
                        alt="Lapis Result"
                        class="character-img absolute inset-0 m-auto max-w-full max-h-[40vh] md:max-h-[60vh] object-contain transition-all duration-1000 opacity-0 z-20 md:mt-8">

                    <!-- Loading SVG (replaces character during loading on mobile) -->
                    <div id="loading-svg" class="hidden flex-col items-center justify-center md:hidden">
                        <div class="mb-4 omikuji-shake">
                            <img src="assets/omikuji_tube.svg" alt="Omikuji Tube" class="w-20 h-30">
                        </div>
                        <div class="text-lg font-medium text-gold animate-bounce mb-2">観測中...</div>
                        <div class="text-sm text-sumi opacity-70">星の巡りとAIの気まぐれを計算しています</div>
                    </div>

                </div>
            </div>

            <!-- Content Pane (Right) -->
            <div id="content-pane" class="md:flex-1 flex flex-col items-center md:items-start md:py-8 md:py-12 px-4 md:pl-12 order-2">

                <!-- Omikuji Card -->
                <main id="omikuji-card" class="omikuji-card w-full max-w-[400px] md:mx-0 py-8">

                    <!-- Input View -->
                    <section id="input-view" class="fade-in-up flex flex-col items-center">
                        <p class="text-instruction">
                            あなたの2026年を<br>AIが適当に占います！
                        </p>

                        <button id="btn-draw-omikuji" class="btn-main-action group">
                            <span class="relative z-10 tracking-widest">おみくじを引く</span>
                            <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity"></div>
                            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:animate-shine"></div>
                        </button>
                    </section>

                    <!-- Loading View (PC only) -->
                    <section id="loading-view" class="hidden flex-col items-center justify-center py-12">
                        <div class="mb-6 omikuji-shake">
                            <img src="assets/omikuji_tube.svg" alt="Omikuji Tube" class="w-20 h-30">
                        </div>
                        <div class="text-lg font-medium text-gold animate-bounce mb-2">観測中...</div>
                        <div class="text-sm text-sumi opacity-70">星の巡りとAIの気まぐれを計算しています</div>
                    </section>

                    <!-- Result View -->
                    <section id="result-view" class="hidden fade-in-up">
                        <div class="text-center">

                            <!-- Result Rank -->
                            <div class="mb-6 relative">
                                <div class="text-sm font-bold mb-1 result-year">2026年の総合運</div>
                                <div id="result-grade" class="text-7xl md:text-8xl font-serif font-bold drop-shadow-md py-4 leading-none result-grade"></div>
                                <div class="w-16 h-1 mx-auto rounded-full opacity-50 mt-2 result-divider"></div>
                            </div>

                            <!-- AI Message -->
                            <div class="mb-8 max-w-lg mx-auto px-2">
                                <div class="text-xs font-bold mb-2 opacity-70 ai-message-label">AIからの一言</div>
                                <p id="msg-general" class="text-base md:text-lg font-medium leading-loose text-center text-sumi"></p>
                            </div>

                            <!-- Result Details -->
                            <div class="result-box space-y-5">

                                <div class="flex items-start gap-4">
                                    <span class="result-tag tag-work">仕事</span>
                                    <p id="msg-work" class="text-base text-sumi leading-loose pt-1.5 flex-1 text-left"></p>
                                </div>

                                <div class="flex items-start gap-4">
                                    <span class="result-tag tag-life">生活</span>
                                    <p id="msg-life" class="text-base text-sumi leading-loose pt-1.5 flex-1 text-left"></p>
                                </div>

                                <div class="flex items-start gap-4">
                                    <span class="result-tag tag-fun">趣味</span>
                                    <p id="msg-fun" class="text-base text-sumi leading-loose pt-1.5 flex-1 text-left"></p>
                                </div>

                                <div class="flex items-center gap-3 pt-4 mt-2 border-t-2 border-dashed" style="border-color: var(--prim-sakura-soft);">
                                    <span class="text-sm font-bold" style="color: var(--ui-accent-gold);">ラッキーアイテム</span>
                                    <span id="msg-item" class="text-base font-bold text-coral"></span>
                                </div>
                            </div>

                            <!-- Retry Button -->
                            <button id="btn-reset" class="btn-retry">
                                もう一度やってみる
                            </button>
                            <!-- Note jump Button -->
                            <button id="btn-note" class="btn-retry">
                                note記事を見る
                            </button>
                        </div>
                    </section>

                </main>
            </div>

        </div>

        <!-- Footer -->
        <footer class="w-full py-8 text-center mt-auto">
            <p class="footer-text">
                © 2026 Lapis
            </p>
        </footer>

    </div>

    <script src="script.js"></script>
</body>
</html>
